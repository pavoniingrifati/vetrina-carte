
<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Record Utenti â€“ TikTok Fanclub</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{--bg:#0b0f19;--panel:#0f1526;--card:#121a2e;--text:#ecf0ff;--muted:#a7b0d3;--radius:16px;}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter;padding:20px}
h1{font-size:28px;margin-bottom:10px}
.controls{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;}
button{padding:10px 14px;border-radius:8px;border:none;background:#1b2238;color:white;font-size:14px;cursor:pointer;}
button:hover{background:#263155;}
input{width:100%;padding:12px;border-radius:10px;border:none;background:#151b2d;color:white;font-size:16px;margin-bottom:20px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px;}
.card-box{background:var(--panel);padding:14px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.08);}
.rank{font-size:20px;font-weight:700;margin-bottom:6px;}
.gold{color:#ffd700;} .silver{color:#c0c0c0;} .bronze{color:#cd7f32;}
.card{background:var(--card);border-radius:var(--radius);overflow:hidden;border:1px solid rgba(255,255,255,.08);margin-top:12px;}
.thumb{width:100%;aspect-ratio:3/4;object-fit:cover;background:black}
.name{font-weight:600;font-size:16px;margin-top:10px}
.days{color:var(--muted);font-size:14px;margin-top:4px}
</style>
</head>

<body>

<h1>Record Utenti â€“ TikTok Fanclub</h1>

<div class="controls">
  <button onclick="filterTop(10)">Top 10</button>
  <button onclick="filterTop(50)">Top 50</button>
  <button onclick="filterTop(null)">Mostra tutti</button>
  <button onclick="sortByDays()">Ordina per giorni</button>
  <button onclick="sortByName()">Ordina per nome</button>
</div>

<input id="search" placeholder="Cerca utente...">

<div class="grid" id="userGrid"></div>

<script>
let users = [{"name": "bruno", "days": 271}, {"name": "attilio", "days": 81}, {"name": "Johnny", "days": 108}, {"name": "maarioski", "days": 40}, {"name": "Riccardo", "days": 178}, {"name": "Xavier", "days": 70}, {"name": "Bando", "days": 53}, {"name": "Lele", "days": 255}, {"name": "joel", "days": 131}, {"name": "Frank", "days": 54}, {"name": "Banana", "days": 101}, {"name": "Doge", "days": 140}, {"name": "Mario", "days": 22}, {"name": "scibet", "days": 115}, {"name": "mr mello", "days": 106}, {"name": "ciuly", "days": 76}, {"name": "VINCE", "days": 46}, {"name": "paccho", "days": 63}, {"name": "Maks", "days": 54}, {"name": "TommasoM", "days": 91}, {"name": "Raphael", "days": 68}, {"name": "giuseðŸ¦‚", "days": 84}, {"name": "Gabriele", "days": 37}, {"name": "GigaByte", "days": 70}, {"name": "Arthur", "days": 36}, {"name": "Fersini", "days": 89}, {"name": "Ragno", "days": 29}, {"name": "Darkness", "days": 54}, {"name": "Stewe", "days": 26}, {"name": "reale", "days": 67}, {"name": "Emanuele Bi", "days": 21}, {"name": "Nico", "days": 31}, {"name": "God of destruction", "days": 35}, {"name": "ð•¯ð–Žð–Œð–” ðŸ’Ž", "days": 21}, {"name": "Wateng", "days": 71}, {"name": "Fork", "days": 71}, {"name": "ferrouzzi", "days": 15}, {"name": "Auriemma", "days": 23}, {"name": "ðŸ™ŠðŸ™‰ðŸ™ˆ", "days": 14}, {"name": "ð•»ð–Žð–Šð–™ð–—ð–”", "days": 5}, {"name": "lucam942", "days": 42}, {"name": "Il Siciliano di Zona", "days": 31}, {"name": "Delivery", "days": 45}, {"name": "Lorenzo", "days": 29}, {"name": "Graziano", "days": 32}, {"name": "maggix", "days": 26}, {"name": "Culer", "days": 35}, {"name": "Tepic", "days": 27}, {"name": "dodojr006", "days": 19}, {"name": "izzstefano", "days": 36}, {"name": "christian", "days": 12}, {"name": "ðŸ’Ž", "days": 24}, {"name": "user31357120907", "days": 5}, {"name": "mimm unan", "days": 1}, {"name": "Davide", "days": 22}, {"name": "user52863402731", "days": 15}, {"name": "Klajdi_bossi14", "days": 33}, {"name": "Manuel Balasco", "days": 10}, {"name": "Ben John fitness coach", "days": 8}, {"name": "gianfarinaa_", "days": 41}, {"name": "Abdullah", "days": 11}, {"name": "ãƒ‹ã‚³ãƒ©ã‚¹", "days": 16}, {"name": "FinnGK104", "days": 15}, {"name": "user09731520057", "days": 11}, {"name": "nickick", "days": 17}, {"name": "ðŸ’«", "days": 7}, {"name": "Piergiorgio_corraoðŸ”¥", "days": 5}, {"name": "StormðŸª»", "days": 9}, {"name": "Marco Giuliano", "days": 9}, {"name": "gigi", "days": 24}, {"name": "the_piuz", "days": 12}, {"name": "TommðŸ’«ðŸ’«", "days": 34}, {"name": "nori", "days": 13}, {"name": "Kevin13", "days": 12}, {"name": "FK", "days": 11}, {"name": "Gabriel Mancini", "days": 16}, {"name": "RO7-ORSONALDO", "days": 14}, {"name": "giaiðŸ’¯", "days": 12}, {"name": "k_r_i_17", "days": 9}, {"name": "Vasyl02", "days": 11}, {"name": "davidepoli573", "days": 30}, {"name": "Damians", "days": 23}, {"name": "Kledi", "days": 9}, {"name": "Fraaaaa.16", "days": 9}, {"name": "mic", "days": 1}, {"name": "Ale17ðŸ¤ŽðŸ¤", "days": 11}, {"name": "user27469758526", "days": 7}, {"name": "Foggiano91", "days": 10}, {"name": "baileys", "days": 9}, {"name": "AleCava", "days": 11}, {"name": "Toniofortebracci_page", "days": 10}, {"name": "Mz grdybala", "days": 2}, {"name": "ðŸ—¡â˜ ï¸TÏƒÉ¾Ò½ AÉ³Ï…á‚¦Î¹Ê‚â˜ ï¸ðŸ—¡", "days": 6}, {"name": "Champions_di_team_fortnite", "days": 3}, {"name": "lucertola", "days": 6}, {"name": "max", "days": 7}, {"name": "Ronny 2.0", "days": 9}, {"name": "ddiegoðŸ‡¦ðŸ‡±", "days": 10}, {"name": "Pino/_3938474", "days": 5}, {"name": "geriðŸ’«", "days": 12}];
let filteredUsers = [...users];

const rankedUsers = [...users].sort((a,b)=> b.days - a.days);
const fallback = "Deck%20back%20bronzo.png";
let cards = [];

async function loadCards(){
  try{ const r = await fetch("cards.json"); cards = await r.json(); }
  catch(e){ cards = []; }
}

function bestMatch(username){
  const low = username.toLowerCase();
  for(const c of cards){
    if(c.name && c.name.toLowerCase().includes(low)) return c.img;
  }
  return fallback;
}

function render(list){
  const grid=document.getElementById("userGrid");
  grid.innerHTML="";

  list.forEach(u=>{
    const realRank = rankedUsers.findIndex(x => x.name === u.name) + 1;

    let rankClass="";
    if(realRank===1) rankClass="gold";
    else if(realRank===2) rankClass="silver";
    else if(realRank===3) rankClass="bronze";

    const img = bestMatch(u.name);

    grid.innerHTML += `
      <div class="card-box usercard">
        <div class="rank ${rankClass}">${realRank}Â°</div>
        <div class="name">${u.name}</div>
        <div class="days">Ha inviato regali per ${u.days} giorni</div>
        <div class="card">
          <img class="thumb" src="${img}">
        </div>
      </div>`;
  });
}

function sortByDays(){ filteredUsers.sort((a,b)=> b.days - a.days); render(filteredUsers); }
function sortByName(){ filteredUsers.sort((a,b)=> a.name.localeCompare(b.name)); render(filteredUsers); }

function filterTop(n){
  if(n===null) filteredUsers=[...users];
  else filteredUsers=[...users].sort((a,b)=>b.days-a.days).slice(0,n);
  render(filteredUsers);
}

document.getElementById("search").addEventListener("input", e=>{
  const val=e.target.value.toLowerCase();
  const visible = filteredUsers.filter(u => u.name.toLowerCase().includes(val));
  render(visible);
});

(async ()=>{ await loadCards(); sortByDays(); })();
</script>

</body>
</html>
