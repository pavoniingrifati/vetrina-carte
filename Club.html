<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Template completo per sito di calcio: news, calendario partite, risultati, classifica, rosa e contatti." />
  <title>Il sito delle squadre ufficiali di Fantaballa! • E anche la F1!</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* =====================
       PALETTE & TOKENS (Blu chiaro, Blu scuro, Bianco)
    ====================== */
    :root{
      --blue:#2D7FF9;        /* blu chiaro */
      --navy:#0B1A3A;        /* blu scuro */
      --white:#ffffff;       /* bianco */
      --accent:#CFE2FF;      /* azzurro molto chiaro per highlights */
      --text:#0f1420;        /* testo principale */
      --muted:#6b7280;       /* testo secondario */
      --bg:#f6f8fb;          /* sfondo pagina */
      --card:#ffffff;        /* sfondo card */
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
      --ring:0 0 0 3px rgba(45,127,249,.25);
    }

    /* RESET DI BASE */
    *,*::before,*::after{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); line-height:1.5}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{width:min(1200px, 92%); margin-inline:auto}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* COMPONENTI GENERICI */
    .btn{display:inline-flex; align-items:center; gap:.55rem; padding:.85rem 1.15rem; border-radius:999px; background:var(--blue); color:#fff; font-weight:700; border:2px solid transparent; transition:.25s ease}
    .btn:hover{transform:translateY(-1px); box-shadow:var(--shadow); background:#206fe4}
    .btn--ghost{background:transparent;color:#fff;border-color:rgba(255,255,255,.6); border:2px solid rgba(255,255,255,.6)}
    .chip{display:inline-block;font-size:.75rem;padding:.3rem .6rem;border-radius:999px;background:var(--accent);color:#0b3b9e;font-weight:700}

    /* ============ HEADER / NAV ============ */
    header{position:sticky;top:0;z-index:50;background:rgba(11,26,58,.8);backdrop-filter:saturate(120%) blur(10px); border-bottom:1px solid rgba(255,255,255,.12)}
    .topbar{display:flex;align-items:center;justify-content:space-between; gap:1rem; padding:.7rem 0}
    .brand{display:flex; align-items:center; gap:.75rem}
    .crest{width:40px;height:40px;border-radius:12px; background:linear-gradient(135deg,var(--blue),#0d49c0); box-shadow:inset 0 0 0 2px rgba(255,255,255,.18)}
    .brand h1{font-size:1.05rem; color:#fff; letter-spacing:.4px; margin:0}
    nav ul{display:flex;list-style:none;gap:1rem;margin:0;padding:0}
    nav a{color:#eaf0f4; font-weight:600; font-size:.95rem; opacity:.9}
    nav a:hover{opacity:1; text-decoration:underline}
    .cta{display:flex; align-items:center; gap:.75rem}
    .hamb{display:none; width:44px; height:44px; align-items:center; justify-content:center; border-radius:12px; border:1px solid rgba(255,255,255,.18)}
    .hamb span{width:20px; height:2px; background:#fff; position:relative}
    .hamb span::before,.hamb span::after{content:""; position:absolute; left:0; width:20px;height:2px; background:#fff}
    .hamb span::before{top:-6px}.hamb span::after{top:6px}

    /* ============ HERO SLIDER ============ */
    .hero--slider{ position:relative; min-height:70vh; display:grid; place-items:center; color:#fff; background:#0e1116; overflow:hidden }
    .hero--slider::after{ content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.25) 0%, rgba(0,0,0,.7) 70%) }
    .hero__slider{ position:absolute; inset:0 }
    .slides{ position:relative; width:100%; height:100% }
    .slide{ position:absolute; inset:0; opacity:0; transition:opacity .6s ease }
    .slide.active{ opacity:1 }
    .slide img{ width:100%; height:100%; object-fit:cover; object-position:center }
    .heroNav{ position:absolute; top:50%; transform:translateY(-50%); z-index:3; background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.2); color:#fff; padding:10px 14px; border-radius:12px; cursor:pointer }
    .heroNav.prev{ left:14px } .heroNav.next{ right:14px }
    .dots{ position:absolute; left:50%; bottom:14px; transform:translateX(-50%); z-index:3; display:flex; gap:8px }
    .dots button{ width:10px; height:10px; border-radius:999px; border:1px solid rgba(255,255,255,.7); background:transparent; padding:0; cursor:pointer; opacity:.8 }
    .dots button.active{ background:#fff; opacity:1 }
    .hero--slider .hero__content{ position:relative; z-index:4; text-align:center; padding:4rem 0 }

    /* ============ SEZIONI ============ */
    section{padding:3.2rem 0}
    .section-title{display:flex; align-items:end; justify-content:space-between; gap:1rem; margin-bottom:1.6rem}
    .section-title h3{margin:0;font-size:1.35rem}
    .section-title a{color:var(--blue); font-weight:700}

    /* ============ NEWS ============ */
    .news{display:grid; grid-template-columns:repeat(12, 1fr); gap:1rem}
    .card{grid-column:span 4; background:var(--card); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); display:flex; flex-direction:column; border:1px solid #e9eefc}
    .card__image{aspect-ratio:16/9; background:#e5e7eb}
    .card__body{padding:1rem 1rem 1.1rem}
    .card h4{margin:.35rem 0 .45rem; font-size:1.05rem}
    .card p{margin:0; color:#374151; font-size:.95rem}
    .meta{display:flex; align-items:center; justify-content:space-between; margin-top:.85rem; color:var(--muted); font-size:.85rem}
    .card:hover{transform:translateY(-3px); transition:.22s ease; box-shadow:0 12px 36px rgba(13,73,192,.18)}

    /* ============ PARTITE / RISULTATI ============ */
    .matches{display:grid; grid-template-columns:repeat(12, 1fr); gap:1rem}
    .next-match{grid-column:span 5; background:var(--navy); color:#fff; border-radius:var(--radius); padding:1.2rem; position:relative; overflow:hidden}
    .next-match::before{content:""; position:absolute; inset:0; background:url("https://images.unsplash.com/photo-1486286701208-1d58e9338013?q=80&w=1200&auto=format&fit=crop") center/cover no-repeat; filter:brightness(.35) saturate(1.1); opacity:.35}
    .next-match > *{position:relative; z-index:2}
    .match-head{display:flex; align-items:center; justify-content:space-between; gap:.75rem; margin-bottom:.75rem}
    .teams{display:flex; align-items:center; gap:1rem}
    .badge{width:52px;height:52px;border-radius:12px;background:#fff;display:grid;place-items:center;font-weight:800;color:var(--navy); box-shadow:inset 0 0 0 2px var(--accent)}
    .vs{font-weight:800;opacity:.95}
    .match-meta{color:#e5e7eb; font-size:.95rem}
    .results{grid-column:span 7; background:var(--card); border-radius:var(--radius); padding:1rem; box-shadow:var(--shadow); border:1px solid #e9eefc}
    .result-item{display:grid; grid-template-columns:120px 1fr 60px; align-items:center; gap:.75rem; padding:.6rem .3rem; border-bottom:1px dashed #e5e7eb}
    .result-item:last-child{border-bottom:0}
    .result-teams{display:flex; align-items:center; gap:.6rem}
    .result-teams .small{width:36px;height:36px;border-radius:9px;background:#f3f6ff;display:grid;place-items:center;font-weight:800;color:var(--navy); border:1px solid #e0e7ff}
    .score{font-weight:900; text-align:right}

    /* ============ CLASSIFICA ============ */
    .table-wrap{background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; border:1px solid #e9eefc}
    table{width:100%; border-collapse:collapse}
    th,td{padding:.85rem .95rem; text-align:left}
    thead th{background:var(--navy); color:#fff; font-size:.9rem}
    tbody tr:nth-child(odd){background:#f8fbff}
    tbody tr:hover{background:#f2f6ff}
    .pos{font-weight:800; color:#0b3b9e}

    /* ============ SQUADRA ============ */
    .squad{display:grid; grid-template-columns:repeat(12, 1fr); gap:1rem}
    .player{grid-column:span 3; background:var(--card); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow); border:1px solid #e9eefc}
    .player__image{aspect-ratio:3/4; background:#e5e7eb; object-fit:cover}
    .player__body{padding:.9rem}
    .player__name{margin:0; font-size:1.05rem}
    .player__role{margin:.25rem 0 0; color:var(--muted); font-size:.9rem}

    /* ============ NEWSLETTER ============ */
    .newsletter{background:linear-gradient(135deg, var(--blue) 0%, var(--navy) 70%); color:#fff; border-radius:24px; padding:2rem 1.2rem; display:grid; grid-template-columns:1.2fr .8fr; align-items:center; gap:1rem}
    .newsletter input{width:100%; padding:.9rem 1rem; border-radius:999px; border:2px solid transparent; outline:0}
    .newsletter input:focus{box-shadow:var(--ring); border-color:#9cc3ff}
    .newsletter .btn{justify-self:start}

    /* ============ FOOTER ============ */
    footer{background:var(--navy);color:#d1d5db; margin-top:3rem}
    .footer-grid{display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:1.5rem; padding:2rem 0}
    .footer-grid h5{margin:.4rem 0 1rem; color:#fff}
    .social{display:flex; gap:.6rem}
    .social a{width:40px;height:40px;border-radius:999px;background:var(--blue);display:grid;place-items:center;border:1px solid rgba(255,255,255,.2)}
    .legal{padding:1rem 0; border-top:1px solid rgba(255,255,255,.15); font-size:.9rem; color:#e5e7eb}

    /* ============ RESPONSIVE ============ */
    @media (max-width: 1024px){
      nav ul{display:none; position:absolute; left:0; right:0; top:64px; padding:1rem; background:var(--navy); border-bottom:1px solid rgba(255,255,255,.12)}
      nav ul.open{display:flex; flex-direction:column}
      .hamb{display:flex}
      .next-match{grid-column:span 12}
      .results{grid-column:span 12}
      .player{grid-column:span 4}
      .card{grid-column:span 6}
      .newsletter{grid-template-columns:1fr}
      .footer-grid{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 640px){
      .card,.player{grid-column:span 12}
      .result-item{grid-template-columns:96px 1fr 48px}
    }
  </style>
</head>
<body>
  <!-- ===================== HEADER ===================== -->
  <header>
    <div class="container topbar">
      <div class="brand">
        <div class="crest" aria-hidden="true"></div>
        <h1>Le squadre di Fantaballa & F1!</h1>
      </div>
      <nav aria-label="Navigazione principale">
        <button class="hamb" aria-label="Apri menu" id="hamb"><span></span></button>
        <ul id="menu">
          <li><a href="#news">News</a></li>
          <li><a href="#partite">Partite</a></li>
          <li><a href="#classifica">Classifica</a></li>
          <li><a href="#squadra">Squadra</a></li>
          <li><a href="#contatti">Contatti</a></li>
        </ul>
      </nav>
      <div class="cta">
        <a href="#biglietti" class="btn">Abbonati!</a>
      </div>
    </div>
  </header>

  <!-- ===================== HERO (slider) ===================== -->
  <section class="hero--slider">
    <div class="hero__slider">
      <div id="heroSlides" class="slides"></div>
    </div>

    <div class="hero__content container">
      <span id="heroChip" class="chip">Nuovo progetto</span>
      <h2 id="heroTitle">Scopri il mondo FUT, ma con la tua carta!</h2>
      <p id="heroText">Anteprime del sito e accesso diretto alla vetrina.</p>
      <div class="cta-wrap">
        <a id="heroBtn" class="btn" href="https://pavoniingrifati.github.io/vetrina-carte/" target="_blank" rel="noopener">
          Vai nel mondo delle carte!
        </a>
      </div>
    </div>

    <button class="heroNav prev" aria-label="Slide precedente">◀</button>
    <button class="heroNav next" aria-label="Slide successiva">▶</button>
    <div id="heroDots" class="dots" aria-label="Navigazione slide"></div>
  </section>

  <main class="container">
    <!-- ===================== NEWS ===================== -->
    <section id="news">
      <div class="section-title">
        <h3>Ultime News</h3>
        <a href="https://github.com/pavoniingrifati/vetrina-carte" target="_blank" rel="noopener">Gestisci contenuti →</a>
      </div>
      <div id="newsGrid" class="news" aria-live="polite"></div>
      <small style="display:block; margin-top:.6rem; color:var(--muted)">Le notizie vengono caricate dal **Google Sheet** (con fallback <code>news.json</code>).</small>
    </section>

    <!-- ===================== PARTITE & RISULTATI ===================== -->
    <section id="partite">
      <div class="section-title">
        <h3>Partite</h3>
        <a href="#">Calendario completo →</a>
      </div>
      <div class="matches">
        <div class="next-match">
          <div class="match-head">
            <strong>Prossima</strong>
            <span class="match-meta">Sab 23 Ago • 20:45 • Fantaballa Stadium</span>
          </div>
          <div class="teams">
            <div class="badge" aria-label="Calcio Club">FB</div>
            <div class="vs">vs</div>
            <div class="badge" aria-label="Avversari">GT</div>
          </div>
          <p style="margin:.9rem 0 1.1rem; color:#e8eefc">Big match di apertura: atmosfera da brividi e coreografia curva già esaurita.</p>
          <a href="#biglietti" class="btn">Acquista biglietti</a>
        </div>
        <div class="results">
          <h4 style="margin:.2rem 0 1rem">Ultimi risultati</h4>
          <div class="result-item">
            <span class="muted">12 Ago</span>
            <div class="result-teams">
              <span class="small">CC</span>
              <strong>Fantaballa FC</strong>
              <span>–</span>
              <strong>Gotham City</strong>
            </div>
            <div class="score">9 – 9</div>
          </div>
          <div class="result-item">
            <span class="muted">05 Ago</span>
            <div class="result-teams">
              <span class="small">AL</span>
              <strong>Alpina</strong>
              <span>–</span>
              <strong>Calcio Club</strong>
            </div>
            <div class="score">0 – 0</div>
          </div>
          <div class="result-item">
            <span class="muted">28 Lug</span>
            <div class="result-teams">
              <span class="small">CC</span>
              <strong>Calcio Club</strong>
              <span>–</span>
              <strong>Trastevere</strong>
            </div>
            <div class="score">3 – 2</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===================== CLASSIFICA ===================== -->
    <section id="classifica">
      <div class="section-title">
        <h3>Classifica</h3>
        <a href="#">Dettaglio →</a>
      </div>
      <div class="table-wrap">
        <table aria-label="Classifica del campionato">
          <thead>
            <tr><th>#</th><th>Squadra</th><th>G</th><th>V</th><th>N</th><th>P</th><th>GF</th><th>GS</th><th>Pts</th></tr>
          </thead>
          <tbody>
            <tr><td class="pos">1</td><td>Fantaballa FC</td><td>3</td><td>2</td><td>1</td><td>0</td><td>5</td><td>3</td><td><strong>7</strong></td></tr>
            <tr><td class="pos">2</td><td>Gotham City</td><td>3</td><td>2</td><td>0</td><td>1</td><td>6</td><td>3</td><td><strong>7</strong></td></tr>
            <tr><td class="pos">3</td><td>Trastevere</td><td>3</td><td>2</td><td>0</td><td>1</td><td>4</td><td>3</td><td><strong>6</strong></td></tr>
            <tr><td class="pos">4</td><td>Alpina</td><td>3</td><td>1</td><td>2</td><td>0</td><td>2</td><td>1</td><td><strong>5</strong></td></tr>
            <tr><td class="pos">5</td><td>Virtus</td><td>3</td><td>1</td><td>1</td><td>1</td><td>3</td><td>3</td><td><strong>4</strong></td></tr>
            <tr><td class="pos">6</td><td>Monti</td><td>3</td><td>1</td><td>0</td><td>2</td><td>2</td><td>4</td><td><strong>3</strong></td></tr>
            <tr><td class="pos">7</td><td>Marina</td><td>3</td><td>0</td><td>2</td><td>1</td><td>1</td><td>2</td><td><strong>2</strong></td></tr>
            <tr><td class="pos">8</td><td>Colline</td><td>3</td><td>0</td><td>1</td><td>2</td><td>1</td><td>3</td><td><strong>1</strong></td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ===================== SQUADRA ===================== -->
    <section id="squadra">
      <div class="section-title">
        <h3>La Squadra</h3>
        <div style="display:flex; gap:.6rem; align-items:center">
          <a href="#" id="shuffleSquad" class="btn" title="Ricarica immagini casuali">Ricarica immagini</a>
          <a href="#" id="useClubPics" class="btn btn--ghost" title="Torna alle immagini originali">Reset immagini</a>
        </div>
      </div>
      <div id="squadGrid" class="squad" aria-live="polite"></div>
      <small style="display:block; margin-top:.5rem; color:var(--muted)">Vuoi anche tu far parte della squadra? Segui le live su Tik Tok di <strong>Fantaballa</strong>.</small>
    </section>

    <!-- ===================== NEWSLETTER / CONTATTI ===================== -->
    <section id="contatti">
      <div class="newsletter">
        <div>
          <h3 style="margin:0 0 .4rem">Iscriviti alla newsletter</h3>
          <p style="margin:0; opacity:.95">Risultati, news e promo biglietti direttamente nella tua casella email.</p>
        </div>
        <form onsubmit="event.preventDefault(); alert('Grazie! Ti abbiamo iscritto alla newsletter (demo).');">
          <label class="sr-only" for="email">Email</label>
          <input id="email" type="email" placeholder="tua@email.com" required />
          <button class="btn" type="submit" style="margin-top:.7rem">Iscrivimi</button>
        </form>
      </div>
    </section>
  </main>

  <!-- ===================== FOOTER ===================== -->
  <footer>
    <div class="container footer-grid">
      <div>
        <div class="brand" style="margin:.25rem 0 1rem">
          <div class="crest"></div>
          <h1>Calcio Club</h1>
        </div>
        <p>Template open: sostituisci testi, immagini e colori per adattarlo al tuo club.</p>
        <div class="social" aria-label="Social media">
          <a href="#" aria-label="Instagram" title="Instagram">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="#e5e7eb" stroke-width="1.5"/><circle cx="12" cy="12" r="3.5" stroke="#e5e7eb" stroke-width="1.5"/><circle cx="17.5" cy="6.5" r="1" fill="#e5e7eb"/></svg>
          </a>
          <a href="#" aria-label="Twitter" title="Twitter/X">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 4l16 16M20 4L4 20" stroke="#e5e7eb" stroke-width="1.5"/></svg>
          </a>
          <a href="#" aria-label="YouTube" title="YouTube">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="6" width="18" height="12" rx="3" stroke="#e5e7eb" stroke-width="1.5"/><path d="M10 9l5 3-5 3V9Z" fill="#e5e7eb"/></svg>
          </a>
        </div>
      </div>
      <div>
        <h5>Club</h5>
        <ul style="list-style:none; padding:0; margin:0; display:grid; gap:.5rem">
          <li><a href="#">Storia</a></li>
          <li><a href="#">Stadio</a></li>
          <li><a href="#">Settore giovanile</a></li>
        </ul>
      </div>
      <div>
        <h5>Biglietti</h5>
        <ul style="list-style:none; padding:0; margin:0; display:grid; gap:.5rem">
          <li><a href="#">Abbonamenti</a></li>
          <li><a href="#">Singola partita</a></li>
          <li><a href="#">Hospitality</a></li>
        </ul>
      </div>
      <div>
        <h5>Contatti</h5>
        <ul style="list-style:none; padding:0; margin:0; display:grid; gap:.5rem">
          <li><a href="mailto:info@calcioclub.it">info@calcioclub.it</a></li>
          <li><a href="#">Ufficio stampa</a></li>
          <li><a href="#">Lavora con noi</a></li>
        </ul>
      </div>
    </div>
    <div class="container legal">
      <small>© 2025 Calcio Club — Template dimostrativo. Le immagini sono di riferimento e provenienti da Unsplash (crediti: fotograﬁ* vari). Sostituiscile con assets del tuo club prima della pubblicazione.</small>
    </div>
  </footer>

  <!-- ===================== SCRIPTS ===================== -->
  <script>
    // Menu mobile
    const hamb = document.getElementById('hamb');
    const menu = document.getElementById('menu');
    hamb?.addEventListener('click',()=> menu.classList.toggle('open'));
  </script>

  <!-- HERO: Slider con immagini + testi -->
  <script>
    (function(){
      const root    = document.querySelector('.hero--slider');
      if(!root) return;

      const slidesEl = document.getElementById('heroSlides');
      const dotsEl   = document.getElementById('heroDots');
      const prevBtn  = root.querySelector('.heroNav.prev');
      const nextBtn  = root.querySelector('.heroNav.next');

      // 👇 Gestisci ogni slide: immagine + testi + bottone
      const SLIDES = [
        {
          img: 'https://raw.githubusercontent.com/pavoniingrifati/vetrina-carte/main/Screenshot%202025-08-16%20133159.png?v=3',
          chip: 'Vetrina Carte',
          title: 'Scopri la Vetrina Carte',
          text: 'Trova la tua carta, spacchetta e collezionale tutte!',
          ctaText: 'Vai alla Vetrina',
          ctaHref: 'https://pavoniingrifati.github.io/vetrina-carte/'
        },
        {
          img: 'https://images.unsplash.com/photo-1493397212122-2b85dda8106b?q=80&w=1600&auto=format&fit=crop',
          chip: 'Community',
          title: 'Unisciti alla community',
          text: 'Condividi le tue carte e partecipa alle live.',
          ctaText: 'Segui su TikTok',
          ctaHref: '#'
        },
        {
          img: 'https://images.unsplash.com/photo-1526232761682-d26e04babcbe?q=80&w=1600&auto=format&fit=crop',
          chip: 'Partite',
          title: 'Calendario e risultati',
          text: 'Tutto sul campionato di Fantaballa.',
          ctaText: 'Vedi le partite',
          ctaHref: '#partite'
        }
      ];

      // Costruzione immagini
      const slides = SLIDES.map((s,i)=>{
        const el  = document.createElement('div');
        el.className = 'slide' + (i===0 ? ' active' : '');
        const img = document.createElement('img');
        img.src = s.img; img.alt = s.title || ('Slide ' + (i+1));
        el.appendChild(img);
        slidesEl.appendChild(el);
        return el;
      });

      // Pallini
      const dots = SLIDES.map((_,i)=>{
        const b = document.createElement('button');
        if(i===0) b.classList.add('active');
        b.addEventListener('click', ()=>go(i));
        dotsEl.appendChild(b);
        return b;
      });

      // Riferimenti testi
      const chipEl  = document.getElementById('heroChip');
      const titleEl = document.getElementById('heroTitle');
      const textEl  = document.getElementById('heroText');
      const btnEl   = document.getElementById('heroBtn');

      function setContent(n){
        const s = SLIDES[n];
        if(chipEl)  chipEl.textContent  = s.chip   || '';
        if(titleEl) titleEl.textContent = s.title  || '';
        if(textEl)  textEl.textContent  = s.text   || '';
        if(btnEl){
          btnEl.textContent = s.ctaText || 'Scopri di più';
          if(s.ctaHref) btnEl.href = s.ctaHref;
        }
      }

      let i=0, timer=null, hover=false;
      function go(n){
        slides[i].classList.remove('active'); dots[i].classList.remove('active');
        i = (n + slides.length) % slides.length;
        slides[i].classList.add('active'); dots[i].classList.add('active');
        setContent(i);
      }
      function next(){ go(i+1) }
      function prev(){ go(i-1) }

      function start(){ stop(); timer = setInterval(()=>{ if(!hover) next(); }, 5000) }
      function stop(){ if(timer) clearInterval(timer); timer=null }

      nextBtn.addEventListener('click', next);
      prevBtn.addEventListener('click', prev);
      root.addEventListener('mouseenter', ()=>{ hover=true });
      root.addEventListener('mouseleave', ()=>{ hover=false });
      document.addEventListener('keydown', (e)=>{
        if(!root.matches(':hover')) return;
        if(e.key==='ArrowRight') next();
        if(e.key==='ArrowLeft')  prev();
      });

      setContent(0);
      start();
    })();
  </script>

  <!-- SQUADRA: immagini random da cards.json -->
  <script>
    (function(){
      const grid = document.getElementById('squadGrid');
      const btnShuffle = document.getElementById('shuffleSquad');
      const btnReset = document.getElementById('useClubPics');

      const CANDIDATE_JSONS = [
        './cards.json',
        './cards%20(1).json',
        'https://raw.githubusercontent.com/pavoniingrifati/vetrina-carte/main/cards.json',
        'https://raw.githubusercontent.com/pavoniingrifati/vetrina-carte/main/cards%20(1).json'
      ];

      let baseData = null; // cache del JSON caricato
      let lastSeed = Date.now();

      function seededShuffle(arr, seed){
        const a = arr.slice();
        function rnd(){ seed = (seed * 9301 + 49297) % 233280; return seed / 233280; }
        for(let i=a.length-1;i>0;i--){
          const j = Math.floor(rnd() * (i+1));
          [a[i],a[j]] = [a[j],a[i]];
        }
        return a;
      }

      async function loadCardsJSON(){
        for(const url of CANDIDATE_JSONS){
          try{
            const res = await fetch(url, { cache: 'no-store' });
            if(res.ok){
              const json = await res.json();
              if(Array.isArray(json)) return json;
            }
          }catch(e){ /* prova prossimo */ }
        }
        console.warn('⚠️ Impossibile caricare cards.json. Uso fallback minimo.');
        return [
          { name:'Giocatore', role:'ATT', img:'https://images.unsplash.com/photo-1522778119026-d647f0596c20?q=80&w=900&auto=format&fit=crop' },
          { name:'Portiere', role:'POR', img:'https://images.unsplash.com/photo-1540593461966-8a16f3173d47?q=80&w=900&auto=format&fit=crop' }
        ];
      }

      function renderSquad(data, n=8){
        grid.innerHTML = '';
        const imgs = data.map(c=>({img:c.img, name:c.name, role:c.role})).filter(x=>!!x.img);
        if(imgs.length===0){ grid.innerHTML = '<p>Nessuna immagine trovata nel JSON.</p>'; return; }
        const shuffled = seededShuffle(imgs, lastSeed);
        const take = shuffled.slice(0, Math.min(n, shuffled.length));
        for(const p of take){
          const article = document.createElement('article');
          article.className = 'player';
          article.innerHTML = `
            <img class="player__image" src="${p.img}" alt="${(p.name||'Calciatore')}" loading="lazy" />
            <div class="player__body">
              <h4 class="player__name">${p.name || 'Calciatore'}</h4>
              <p class="player__role">${p.role ? p.role : 'Ruolo N/D'}</p>
            </div>
          `;
          grid.appendChild(article);
        }
      }

      async function init(){
        baseData = await loadCardsJSON();
        renderSquad(baseData);
      }

      btnShuffle?.addEventListener('click', (e)=>{
        e.preventDefault();
        lastSeed = Date.now();
        renderSquad(baseData);
      });

      btnReset?.addEventListener('click', (e)=>{
        e.preventDefault();
        lastSeed = 123456; // griglia “stabile”
        renderSquad(baseData);
      });

      init();
    })();
  </script>

  <!-- NEWS: Google Sheet (GViz) + fallback JSON -->
  <script>
    (function(){
      const grid = document.getElementById('newsGrid');
      if(!grid) return;

      // 👇 ID del tuo foglio; se la scheda "News Fantaballa" NON è la prima, metti il suo gid qui sotto
      const GOOGLE_SHEET_ID = '1CDWSrcwrntK-Zvzy5gJCqqwhZjA5MDXkksuC9P1icz8';
      const GID = '0'; // es. '123456789' se necessario
      const GVIZ = `https://docs.google.com/spreadsheets/d/${GOOGLE_SHEET_ID}/gviz/tq?tqx=out:json${GID ? `&gid=${GID}` : ''}`;

      const SOURCES = [
        { type:'gviz', url: GVIZ },
        { type:'json', url:'./news.json' },
        { type:'json', url:'https://raw.githubusercontent.com/pavoniingrifati/vetrina-carte/main/news.json' }
      ];

      function fmtDate(iso){
        try{
          const d = new Date(iso);
          return isNaN(d) ? iso : d.toLocaleDateString('it-IT', { day:'2-digit', month:'short', year:'numeric' });
        }catch{ return iso || ''; }
      }

      function render(items){
        grid.innerHTML = '';
        const list = items.slice().sort((a,b)=> new Date(b.date||0) - new Date(a.date||0));
        if(!list.length){ grid.innerHTML = '<p>Nessuna notizia al momento.</p>'; return; }

        for(const art of list){
          const img = art.image || art.img || 'https://images.unsplash.com/photo-1493397212122-2b85dda8106b?q=80&w=1200&auto=format&fit=crop';
          const cat = art.category || art.tag || 'News';
          const title = art.title || 'Senza titolo';
          const excerpt = art.excerpt || art.summary || '';
          const date = art.date ? fmtDate(art.date) : '';
          const url = art.url || art.link || '#';

          const card = document.createElement('article');
          card.className = 'card';
          card.innerHTML = `
            <img class="card__image" src="${img}" alt="${title}" loading="lazy"/>
            <div class="card__body">
              <span class="chip">${cat}</span>
              <h4>${title}</h4>
              <p>${excerpt}</p>
              <div class="meta"><span>${date}</span><a href="${url}" target="_blank" rel="noopener">Leggi</a></div>
            </div>
          `;
          grid.appendChild(card);
        }
      }

      async function fetchGViz(url){
        const txt = await fetch(url, { cache:'no-store' }).then(r=>r.text());
        // GViz → "google.visualization.Query.setResponse(...)"
        const json = JSON.parse(txt.substring(txt.indexOf('{'), txt.lastIndexOf('}')+1));
        const rows = json?.table?.rows || [];
        // Ordine colonne dall'Apps Script: [title, category, date, image, excerpt, url, timestamp]
        return rows.map(r=>{
          const c = r.c || [];
          return {
            title:   c[0]?.v || '',
            category:c[1]?.v || 'News',
            date:    c[2]?.v || '',
            image:   c[3]?.v || '',
            excerpt: c[4]?.v || '',
            url:     c[5]?.v || '#'
          };
        }).filter(x=>x.title);
      }

      async function load(){
        for(const src of SOURCES){
          try{
            if(src.type==='gviz'){
              const data = await fetchGViz(src.url);
              if(data.length){ console.info('News source: Google Sheets'); render(data); return; }
            }else{
              const res = await fetch(src.url, { cache:'no-store' });
              if(res.ok){
                const data = await res.json();
                if(Array.isArray(data) && data.length){ console.info('News source:', src.url); render(data); return; }
              }
            }
          }catch(e){ /* passa al prossimo */ }
        }
        grid.innerHTML = '<p>Nessuna notizia al momento.</p>';
      }

      load();
    })();
  </script>

  <!--
    ▸ ISTRUZIONI RAPIDE PERSONALIZZAZIONE ◂
    1) Colori brand: variano in :root (--blue, --navy, --white, --accent).
    2) Logo/crest: sostituisci i div .crest con <img src="..." alt="Logo">.
    3) Slider: modifica l’array SLIDES nello script “HERO: Slider”.
    4) News: rendi pubblico il foglio o pubblicalo sul web; aggiungi &gid se la scheda non è la prima.
  -->
</body>
</html>
